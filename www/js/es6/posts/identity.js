'use strict';System.register([],function(_export,_context){return {setters:[],execute:function(){let main=require('../main');let $=main.$;let $script=main.$script;let $email=main.$email;let $name=main.$name;let _=main._;let common=main.common;let config=main.config;function load(){try{const id=JSON.parse(localStorage.ident);if(id.name)$name.val(id.name);if(id.email)$email.val(id.email);}catch(e){}}let save=_.debounce(function(){try{const name=$name.val();let email=$email.val();if(email===config.LOGIN_KEYWORD){$email.val('');$script('/ass/js/scripts/login.js');email=false;}if(name||email){let id={};if(name)id.name=name;if(email)id.email=email;localStorage.ident=JSON.stringify(id);}else localStorage.removeItem('ident');}catch(e){}},1000);function propagate(){let postForm=main.request('postForm');if(postForm)postForm.renderIdentity();save();}main.defer(function(){load();$name.on('input',propagate);$email.on('input',propagate);});}};});
//# sourceMappingURL=../maps/posts/identity.js.map
