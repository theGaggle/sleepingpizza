'use strict';System.register([],function(_export,_context){return {setters:[],execute:function(){const main=require('../main');const imager=require('./imager');const _=main._;const Backbone=main.Backbone;const common=main.common;const util=main.util;const lang=main.lang;const oneeSama=main.oneeSama;const options=main.options;const state=main.state;module.exports=imager.Hidamari.extend({className:'glass',initialize(){this.listenTo(this.model,'dispatch',this.redirect);},clientInit(){if(options.get('anonymise'))this.anonymise();return this;},redirect(command){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}this[command](...args);},updateBody(frag){if(!this.blockquote)this.blockquote=this.el.query('blockquote');const model=this.model.attributes;this.blockquote.innerHTML=oneeSama.setModel(model).body(model.body);},renderTime(){this.el.query('time').outerHTML=oneeSama.time(this.model.get('time'));},renderBacklinks(links){this.el.query('small').innerHTML=oneeSama.backlinks(links);},fun(){},anonymise(){this.el.query('.name').innerHTML=`<b class="name">${ lang.anon }<b>`;},renderName(){this.el.query('.name').outerHTML=oneeSama.name(this.model.attributes);},renderModerationInfo(info){const el=this.getContainer();el.query('.modLog').remove();el.query('blockquote').before(util.parseDOM(oneeSama.modInfo(info)));},getContainer(){return this.el.query('.container');},renderBan(){const el=this.getContainer();el.query('.banMessage').remove();el.query('blockquote').after(util.parseDOM(oneeSama.banned()));},renderEditing(editing){const el=this.el;if(editing)el.classList.add('editing');else {el.classList.remove('editing');el.query('blockquote').normalize();}}});}};});
//# sourceMappingURL=../maps/posts/common.js.map
