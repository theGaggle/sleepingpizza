"use strict";System.register(["../state","underscore","./etc"],function(t,r){function e(t,r){for(var e=t.split(/\[\/?spoiler]/i),o="",u=0;u<e.length;u++){u%2&&(o+="<"+(r.state[2]++%2?"/":"")+"del>");var l=e[u];o+=/^>>\d+$/.test(l)?n(l,r.links):/^>>>\/\w+\//.test(l)?a(l):/^https?:\/\/[^-A-Za-z0-9+&@#\/%?=~_]$/.test(l)?i(l):/<strong>.+<\/strong>/.test(l)?l:f(l)}return o}function n(t,r){if(!r)return t;var e=t.match(/^>>\/(\d+)$/)[1],n=r[e];return n?l(e,n.board,n.OP):t}function a(t){var r=t.match(/^>>>\/(\w+)\/$/)[1],e=s[r];return e?o(e,t):t}function o(t,r){return'<a href="'+t+'" target="_blank">'+r+"</a>"}function i(t){return o(encodeURI(href),t)}var u,f,l,c,s,y,d,v,h,b,m,p,g,w,S,x,k,$,A,I;return{setters:[function(t){u=t.config},function(t){f=t.escape},function(t){l=t.renderPostLink}],execute:function(){function r(t){t.state||(t.state=[0,0,0]);var r=n(t.body,t.state,t.dice);return t.state[1]&&(r+="</em>"),t.state[2]&&(r+="</del>"),r}function n(t,r){for(var n=t.split("\n"),a=r.state,o="",i=0;i<n.length;i++){a[0]&&i%2&&(a[1]%2&&(o+="</em>",a[1]++),o+="<br>",a[0]=0);var u=n[i];if(!a[0]&&u.startsWith(">")&&(o+="<em>",a[1]++),t){var f=!0,l=!1,c=void 0;try{for(var s,y=u.split(" ")[Symbol.iterator]();!(f=(s=y.next()).done);f=!0){var d=s.value;o+=e(d,r),a[0]=1}}catch(v){l=!0,c=v}finally{try{!f&&y["return"]&&y["return"]()}finally{if(l)throw c}}}}return o}c=function(){function t(t,r){var e=[],n=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(e.push(i.value),!r||e.length!==r);n=!0);}catch(f){a=!0,o=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(a)throw o}}return e}return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t("renderBody",r),t("renderFragment",n),s={},y=u.boards,d=!0,v=!1,h=void 0;try{for(b=y.enabled[Symbol.iterator]();!(d=(m=b.next()).done);d=!0)p=m.value,s[p]="../"+p+"/"}catch(a){v=!0,h=a}finally{try{!d&&b["return"]&&b["return"]()}finally{if(v)throw h}}g=!0,w=!1,S=void 0;try{for(x=y.psuedo.concat(y.links)[Symbol.iterator]();!(g=(k=x.next()).done);g=!0)$=c(k.value,2),A=$[0],I=$[1],s[A]=I}catch(a){w=!0,S=a}finally{try{!g&&x["return"]&&x["return"]()}finally{if(w)throw S}}}}});
//# sourceMappingURL=../../maps/posts/render/body.js.map
