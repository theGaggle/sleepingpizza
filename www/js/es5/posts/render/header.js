"use strict";System.register(["underscore","../../util","lang","../../state","../../options"],function(e,n){function t(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function a(e){var n="",t=e.trip,a=e.name,r=e.auth;if((a||!t)&&(n+=a?i(a):f.anon,t&&(n+=" ")),t&&(n+="<code>"+i(t)+"</code>"),r){var o=void 0;o=r in l.staff.classes?l.staff.classes[r].alias:r,n+=" ## "+o}return n}function r(e){var n=new Date(e);return u(n.getDate())+" "+f.time.year[n.getMonth()]+" "+n.getFullYear()+("("+f.time.week[n.getDay()]+")")+(u(n.getHours())+":"+u(n.getMinutes()))}function o(e,n){var t=Math.floor((n-e)/6e4),a=!1;if(1>t){if(t>-5)return f.time.just_now;a=!0,t=-t}for(var r=[60,24,30,12],o=["minute","hour","day","month"],i=0;i<r.length;i++){if(t<r[i])return f.ago(t,f.time[o[i]],a);t=Math.floor(t/r[i])}return f.ago(t,f.time.year,a)}var i,s,c,u,f,l,m,d,h;return{setters:[function(e){i=e.escape},function(e){s=e.parseHTML,c=e.parseAttributes,u=e.pad},function(e){f=e["default"]},function(e){l=e.config},function(e){m=e["default"]}],execute:function(){function n(e){var n=e.num,t=(e.op,e.subject),a=p(n);return s(d,t?"<h3>「"+i(e.subject)+"」</h3>":"",u(e),l(e.time),a,a,n)}function u(e){var n='<b class="name',t=e.auth,r=e.email;if(t&&(n+=" "+("admin"===t?"admin":"moderator")),n+='">',r){var o={"class":"email",href:"mailto:"+encodeURI(r),target:"blank"};n+="<a "+c(o)+">"}return n+=a(e),r&&(n+="</a>"),n+="</b>",e.mnemonic&&(n+=" "+f(e.mnemonic)),n}function f(e){return'<b class="mod addr">'+mnem+"</b>"}function l(e){var n=void 0,t=void 0,a=r(e);return m.get("relativeTime")&&(n=a,t=o(e,Date.now())),s(h,n,t||a)}function p(e){return"#p"+e}d=t(['<header>\n			<input type="checkbox" class="postCheckbox">\n			',"\n			","\n			",'\n			<nav>\n				<a href="','" class="history">\n					No.\n				</a>\n				<a href="','" class="quote">\n					','\n				</a>\n			</nav>\n		</header>\n		<span class="oi control" data-glyph="chevron-bottom"></span>'],['<header>\n			<input type="checkbox" class="postCheckbox">\n			',"\n			","\n			",'\n			<nav>\n				<a href="','" class="history">\n					No.\n				</a>\n				<a href="','" class="quote">\n					','\n				</a>\n			</nav>\n		</header>\n		<span class="oi control" data-glyph="chevron-bottom"></span>']),h=t(['<time title="','">\n			',"\n		</time>"],['<time title="','">\n			',"\n		</time>"]),e("renderHeader",n),e("renderName",u),e("renderMnemonic",f),e("renderTime",l),e("renderPostURL",p)}}});
//# sourceMappingURL=../../maps/posts/render/header.js.map
