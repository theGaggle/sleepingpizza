"use strict";System.register([],function(e,t){var i,n,r,s,o,m,a,l;return{setters:[],execute:function(){i=require("../main"),n=require("./common"),r=i.$,s=i._,o=i.Backbone,m=i.util,a=i.oneeSama,l=i.state,module.exports=n.extend({tagName:"section",render:function(){var e=this.model.attributes;this.setElement(a.section(e)).insertIntoDOM();var t=m.parseDOM(a.replyBox());return(e.num in l.ownPosts||i.request("postForm"))&&(t.style.display="none"),this.el.append(t),this.el.nextElementSibling.remove(),this},insertIntoDOM:function(){i.$threads[0].query("aside").after(this.el,document.createElement("hr")),this.fun()},renderLocked:function(e){this.el.classList[e?"add":"remove"]("locked")},remove:function(){return this.el.nextElementSibling.remove(),this.el.remove(),this.stopListening(),this},shiftReplies:function(e){var t=this.model.attributes,i=t.replies,n=l.hotConfig.get("ABBREVIATED_REPLIES"),r=void 0;e&&n--;for(var s=i.slice().length,o=s;o>n;o--){var m=l.posts.get(i.shift());m&&(m.get("image")&&t.image_omit++,t.omit++,r=!0,m.remove())}r&&this.renderOmit(t.omit,t.image_omit)},renderOmit:function(){var e=arguments.length<=0||void 0===arguments[0]?this.model.get("omit"):arguments[0];arguments.length<=1||void 0===arguments[1]?this.model.get("image_omit"):arguments[1];if(0!==e){var t=l.page.attributes,i=t.thread,n=t.href;this.el.query(".omit").innerHTML=a.lang.abbrev_msg(e,this.model.get("image_omit"),i&&n.split("?")[0])}},bumpThread:function(){this.el.nextElementSibling.remove(),this.el.remove(),this.insertIntoDOM()}})}}});
//# sourceMappingURL=../maps/posts/section.js.map
