"use strict";System.register([],function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var i,o,a,u,l,s,c,p,d,f,h,m,y,b,v,x;return{setters:[],execute:function(){i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(["<form>\n				",'\n				<input type="submit" value="','">\n			</form>'],["<form>\n				",'\n				<input type="submit" value="','">\n			</form>']),a=r(["<input ",">"],["<input ",">"]),u=r(["<label ",'>\n				<input type="checkbox">\n				',"\n			</label>"],["<label ",'>\n				<input type="checkbox">\n				',"\n			</label>"]),l=r(['<b class="reasonPrompt admin">\n					',"\n				</b>"],['<b class="reasonPrompt admin">\n					',"\n				</b>"]),s=require("main"),c=require("./util"),p=s.$,d=s.Backbone,f=s.common,h=s.lang,m=s.modals,y=f.parseHTML,b=d.View.extend({className:"mod inputBox",events:{submit:"submit"},initialize:function(){m[this.type]=this,this.render()},render:function(){var e=y(o,this.renderInput(),h.send);this.$el.html(e).prependTo(s.$toolbox.$el).find("input").first().focus()},submit:function(e){e.preventDefault();var t=[];p(e.target).find("input[type!=submit]").each(function(){t.push("checkbox"===this.type?this.checked:this.value)}),this.handler(t)},kill:function(){delete m[this.type],this.remove()}}),v=b.extend({type:"notification",renderInput:function(){return y(a,{type:"text",size:25,placeholder:h.mod.placeholders.msg})},handler:function(e){s.send([f.NOTIFICATION,e[0]]),this.kill()}}),exports.notification=v,x=b.extend({type:"ban",renderInput:function(){for(var e="",t=["days","hours","minutes"],n=0;n<t.length;n++){var r=t[n];e+=y(a,{type:"number",placeholder:h.mod.placeholders[r]})}e+=y(a,{type:"text",size:25,placeholder:h.mod.placeholders.reason});var o=i(h.mod.displayBan,2),l=o[0],s=o[1];return e+=y(u,{title:s},l)},handler:function(e){if(!e[3])return this.renderReasonPrompt();for(var t=0;3>t;t++)e[t]=+e[t];e[4]=+e[4];var r=!0,i=!1,o=void 0;try{for(var a,u=c.getSelected()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;s.send([f.BAN,l].concat(n(e)))}}catch(p){i=!0,o=p}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}this.kill()},renderReasonPrompt:function(){this.$el.find(".reasonPrompt").remove(),this.$el.append(y(l,h.mod.needReason)).find("input[type=text]").focus()}}),exports.ban=x}}});
//# sourceMappingURL=../maps/mod/input.js.map
