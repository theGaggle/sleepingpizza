{"version":3,"sources":["loader.js"],"names":["check","func","eval","e","loadMain","System","legacy","tests","i","length","meta","format","config","baseURL","defaultJSExtensions","map","lang","localStorage","underscore","js-cookie","then"],"mappings":"CAIA,WAEC,QAASA,OAAMC,MACd,IACC,MAAOC,MAAK,eAAiBD,KAAO,SAErC,MAAME,GACL,OAAO,GA8DT,QAASC,YACRC,OAAAA,WAAeC,OAAS,MAAQ,OAAS,SAjC1C,IAAK,GA1BDC,QAEH,wBAEA,uEAEA,oEAEA,yCAEA,iDAEA,6DAEA,0DAEA,sCAEA,2DAEA,8KAKGD,OACKE,EAAI,EAAGA,EAAID,MAAME,OAAQD,IACjC,IAAKR,MAAMO,MAAMC,IAAK,CAErBF,QAAS,CACT,OAKF,GAAII,QACJA,MAAK,SAAWA,KAAK,UAAYC,OAAQ,YAEzCN,OAAOO,QACNC,QAAS,UACTC,qBAAqB,EAErBC,KACCC,KAAM,SAAWC,aAAaD,MAAQJ,OAAOI,KAAPJ,YACtCM,WAAY,oBACZC,YAAa,oBAEdT,KAAMA,OAIHJ,OACHD,OAAAA,UAAc,iBAAiBe,KAAKhB,UAEpCA","file":"loader.js","sourcesContent":["/*\nSelects and loads the client files\n */\n\n(function () {\n\t// Check for browser compatibility by trying to detect some ES6 features\n\tfunction check(func) {\n\t\ttry {\n\t\t\treturn eval('(function(){' + func + '})();')\n\t\t}\n\t\tcatch(e) {\n\t\t\treturn false\n\t\t}\n\t}\n\n\tvar tests = [\n\t\t// Arrow functions\n\t\t'return (()=>5)()===5;',\n\t\t// Block scopped const\n\t\t'\"use strict\";  const bar = 123; {const bar = 456;} return bar===123;',\n\t\t// Block-scoped let\n\t\t'\"use strict\"; let bar = 123;{ let bar = 456; }return bar === 123;',\n\t\t// Computed object properties\n\t\t\"var x='y';return ({ [x]: 1 }).y === 1;\",\n\t\t// Shorthand object properties\n\t\t\"var a=7,b=8,c={a,b};return c.a===7 && c.b===8;\",\n\t\t// Template strings\n\t\t'var a = \"ba\"; return `foo bar${a + \"z\"}` === \"foo barbaz\";',\n\t\t// for...of\n\t\t'var arr = [5]; for (var item of arr) return item === 5;',\n\t\t// Spread operator\n\t\t'return Math.max(...[1, 2, 3]) === 3',\n\t\t// Class statement\n\t\t'\"use strict\"; class C {}; return typeof C === \"function\"',\n\t\t// Super call\n\t\t'\"use strict\"; var passed = false;'\n\t\t\t+ 'class B {constructor(a) {  passed = (a === \"barbaz\")}};'\n\t\t\t+ 'class C extends B {constructor(a) {super(\"bar\" + a)}};'\n\t\t\t+ 'new C(\"baz\"); return passed;'\n\t]\n\tvar legacy\n\tfor (var i = 0; i < tests.length; i++) {\n\t\tif (!check(tests[i])) {\n\t\t\t// Load client with full ES5 compliance\n\t\t\tlegacy = true\n\t\t\tbreak\n\t\t}\n\t}\n\n\t// Load all client modules as precompiled System.register format modules\n\tvar meta = {}\n\tmeta['es5/*'] = meta['es6/*'] = {format: 'register'}\n\n\tSystem.config({\n\t\tbaseURL: '/ass/js',\n\t\tdefaultJSExtensions: true,\n\t\t// Alias the appropriate language pack to \"lang\"\n\t\tmap: {\n\t\t\tlang: 'lang/' + (localStorage.lang || config.lang.default),\n\t\t\tunderscore: 'vendor/underscore',\n\t\t\t'js-cookie': 'vendor/js-cookie'\n\t\t},\n\t\tmeta: meta\n\t})\n\n\t// Load core-js polyfill, if above tests fail\n\tif (legacy) {\n\t\tSystem.import('vendor/corejs').then(loadMain)\n\t} else {\n\t\tloadMain()\n\t}\n\n\t// Application entry point\n\tfunction loadMain() {\n\t\tSystem.import((legacy ? 'es5' : 'es6') + '/main')\n\t}\n})()\n"],"sourceRoot":"/source/"}